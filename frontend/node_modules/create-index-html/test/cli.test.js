const assert = require('assert')
const getFilenameAndContents = require('../src/program')

const default_contents = 
`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <!--for scaling across various devices-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

    <!--set the color for the URL bar on Chrome on Android phones/tablets-->
    <meta name="theme-color" content="#000000">

    <title>Title of Page</title> 

    <!--stylesheet--> 
    <link rel="stylesheet" type="text/css" href="styles.css">

    <!--javascript-->
    <script type="text/javascript" src="main.js"></script>
</head>
<body>
    <h1>Hello World</h1>
</body>
</html>` 

const custom_contents = 
`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <!--for scaling across various devices-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

    <!--set the color for the URL bar on Chrome on Android phones/tablets-->
    <meta name="theme-color" content="#000000">

    <title>Hello World</title> 

    <!--stylesheet--> 
    <link rel="stylesheet" type="text/css" href="styles.css">

    <!--javascript-->
    <script type="text/javascript" src="main.js"></script>
</head>
<body>
    <h1>Hello World</h1>
</body>
</html>` 

describe('create-index-html', () => {
  
  it('create index.html with default contents', () => {
    
    const args = {_: []}
    
    assert.deepEqual( 
      {
        filename: 'index.html',
        contents: default_contents,
        help: false
      },
      getFilenameAndContents(args)
    )
  
  })

  it('create file.html with default contents', () => {
    
    const args = {_: ['file.html']}
    
    assert.deepEqual( 
      {
        filename: 'file.html',
        contents: default_contents,
        help: false
      },
      getFilenameAndContents(args)
    )
  
  })

  it('create index.html with custom title', () => {
    const args = {_: [], title: 'Hello World'}
    assert.deepEqual( 
      {
        filename: 'index.html',
        contents: custom_contents,
        help: false
      },
      getFilenameAndContents(args)
    )
  })

})