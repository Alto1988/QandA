#!/usr/bin/env node

const fs = require('fs')
const args = require('minimist')(process.argv.slice(2), {
  string: ['title'],
  boolean: ['help'],
  alias: {
    'h': 'help',
    't': 'title'
  }
})

const usage = require('./usage')

const getFilenameAndContents = require('./program')

const {filename, contents, help} = getFilenameAndContents(args)

if(help){
  console.log(usage)
}else{
  fs.writeFile(filename, contents, err => {
    if(err) throw err;
    console.log(`Created ${filename} file!`)
  })
}